local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Sls Hitbox " .. Fluent.Version,
    SubTitle = "by akashi and ensar",
    TabWidth = 160,
    Size = UDim2.fromOffset(400, 189),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Hitbox = Window:AddTab({ Title = "Hitbox", Icon = "eye" }),
    Credits = Window:AddTab({ Title = "Credits", Icon = "crown" }),
}

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local transparencyValue = 1 -- Tamamen görünmez

local function sendNotification(title, text)
    game.StarterGui:SetCore("SendNotification", {
        Title = title,
        Text = text,
        Duration = 3
    })
end

local function createAndStabilizePart(part, size, name, transparency)
    local existingClone = part.Parent:FindFirstChild(name)
    if existingClone then
        existingClone:Destroy()
    end

    local clone = Instance.new("Part")
    clone.Size = size
    clone.CanCollide = false
    clone.Transparency = transparency
    clone.Name = name
    clone.Position = part.Position
    clone.Anchored = false
    clone.Parent = part.Parent

    local originalAttachment = Instance.new("Attachment")
    originalAttachment.Name = "OriginalAttachment"
    originalAttachment.Parent = part

    local cloneAttachment = Instance.new("Attachment")
    cloneAttachment.Name = "CloneAttachment"
    cloneAttachment.Parent = clone

    local alignPosition = Instance.new("AlignPosition")
    alignPosition.Attachment0 = cloneAttachment
    alignPosition.Attachment1 = originalAttachment
    alignPosition.RigidityEnabled = true
    alignPosition.Parent = clone

    local alignOrientation = Instance.new("AlignOrientation")
    alignOrientation.Attachment0 = cloneAttachment
    alignOrientation.Attachment1 = originalAttachment
    alignOrientation.RigidityEnabled = true
    alignOrientation.Parent = clone

    return clone
end

local function expandParts()
    local character = LocalPlayer.Character
    if character then
        local partsToExpand = {
            "LowerTorso", "UpperTorso", "HumanoidRootPart",
            "Left Arm", "Right Arm", "Left Leg", "Right Leg",
            "LeftHand", "RightHand", "LeftFoot", "RightFoot"
        }

        for _, partName in pairs(partsToExpand) do
            local part = character:FindFirstChild(partName)
            if part then
                createAndStabilizePart(part, Vector3.new(12, 12, 12), partName .. "_Expanded", transparencyValue)
            end
        end
        
        sendNotification("Hitbox Etkinleştirildi", "DC : l2vy / ensar.xr")
    end
end

local function removeParts()
    local character = LocalPlayer.Character
    if character then
        for _, part in pairs(character:GetChildren()) do
            if part:IsA("Part") and part.Name:match("_Expanded") then
                part:Destroy()
            end
        end
        sendNotification("Hitbox Devre Dışı Bırakıldı", "DC : l2vy / ensar.xr")
    end
end

local Toggle = Tabs.Hitbox:AddToggle("MyToggle", {Title = "Sls Hitbox", Default = false })

Toggle:OnChanged(function()
    if Toggle.Value then
        expandParts()
    else
        removeParts()
    end
end)

local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextButton = Instance.new("TextButton")
local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
local ImageLabel = Instance.new("ImageLabel")

-- Properties:

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(26, 26, 26)
Frame.BackgroundTransparency = 0.500
Frame.Position = UDim2.new(0.858712733, 0, 0.015, 0)  -- Yukarı taşındı
Frame.Size = UDim2.new(0.06, 0, 0.06, 0)  -- Kare boyutu
Frame.AnchorPoint = Vector2.new(0.5, 0.5)

-- Köşeleri yuvarlatma (UICorner ile)
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)  -- Köşeleri yuvarlatmak için 12px yuvarlama
UICorner.Parent = Frame

TextButton.Parent = Frame
TextButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextButton.BackgroundTransparency = 1.000
TextButton.Size = UDim2.new(1, 0, 1, 0)
TextButton.Font = Enum.Font.SourceSans
TextButton.Text = ""
TextButton.TextColor3 = Color3.fromRGB(0, 0, 0)
TextButton.TextScaled = true
TextButton.TextSize = 30.000
TextButton.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
TextButton.TextStrokeTransparency = 0.000
TextButton.TextWrapped = true
TextButton.MouseButton1Down:Connect(function()
	game:GetService("VirtualInputManager"):SendKeyEvent(true, "LeftControl", false , game)
end)

UITextSizeConstraint.Parent = TextButton
UITextSizeConstraint.MaxTextSize = 30

-- İkon ekleme (Roblox ikonu)
ImageLabel.Parent = Frame
ImageLabel.BackgroundTransparency = 1
ImageLabel.Size = UDim2.new(1, 0, 1, 0)  -- İkon tüm GUI'yi kaplayacak şekilde
ImageLabel.Position = UDim2.new(0, 0, 0, 0)
ImageLabel.Image = "rbxassetid://109972092483819"  -- Roblox ikonu

-- Resim için köşe yuvarlama (ImageLabel'a UICorner ekle)
local UICornerForImage = Instance.new("UICorner")
UICornerForImage.CornerRadius = UDim.new(0, 12)  -- Resmin köşelerini yuvarlamak için 12px yuvarlama
UICornerForImage.Parent = ImageLabel

-- Sürüklenebilir fonksiyonalite
local userInputService = game:GetService("UserInputService")
local dragging = false
local dragInput, mousePos, framePos

TextButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragInput = input
		mousePos = userInputService:GetMouseLocation()
		framePos = Frame.Position
		-- Karakterin durmasını engellemek ve mouse ikonunu gizlemek
		userInputService.MouseIconEnabled = false
		game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed = 16  -- Karakterin durmasını engelle
	end
end)

TextButton.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = false
		-- Mouse ikonunu geri aç
		userInputService.MouseIconEnabled = true
	end
end)

game:GetService("RunService").RenderStepped:Connect(function()
	if dragging then
		local delta = userInputService:GetMouseLocation() - mousePos
		Frame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
	end
end)
